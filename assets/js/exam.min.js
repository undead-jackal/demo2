function examTable(){$("#examTable").table({url:"/viewExamsAdmin",data:{per_page:5},render:[function(t){return t.id},function(t){return t.title},function(t){return t.description},function(t){return t.passing},function(t){return'<a href="examcreator/viewThisExam/'+t.id+'" class="btn btn-sm mr-2"><i class="fa fa-eye"></i></a><a href="editThisExam/'+t.id+'" class="btn btn-sm mr-2"><i class="fa fa-edit"></i></a><button data-id="'+t.id+'"  class="btn rmv-btn btn-sm"><i class="fa fa-trash"></i></button>'}]})}function scoreTable(){$("#scoreTable").table({url:"/viewExamsScore",data:{per_page:5},render:[function(t){return t.id},function(t){return t.title},function(t){return t.first_name+" "+t.last_name},function(t){return t.result},function(t){return 1==t.did_pass?"PASSED":"FAILED"}]})}$(document).ready(function(){window.location.href.indexOf("viewScores")>-1?scoreTable():examTable();var t=$(".questions_div").data("count"),n=0,e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];const a=({count:t})=>`\n    <div class="row justify-content-md-center question-holder">\n      <div class="card col-lg-9 question-main">\n          <div class="card-body">\n              <div class="row">\n                  <div class="col-lg-12">\n                    <button title="add Choice" class="btn btn-primary round-btn remove-btn rmv-q-btn" type="button" name="button"> <i class="fas fa-times"></i> </button>\n                    <div class="row">\n                      <textarea rows="1" type="text" class="form-control col-lg-9 mr-4" name="question[]" placeholder="Question"></textarea>\n                      <select class="form-control col-lg-2 answers" name="answer[]">\n                      </select>\n                    </div>\n                  </div>\n              </div>\n              <div class="row">\n                  <div class="col-lg-12 insert-choice"></div>\n              </div>\n              <div class="row">\n                  <div class="col-lg-12 button-div-actions">\n                      <button title="add Choice" data-current="0" data-count="${t}" class="btn btn-sm btn-primary round-btn addChoice" type="button" name="button"> <i class="fas fa-plus"></i> Add Choice </button>\n                  </div>\n              </div>\n          </div>\n      </div>\n    </div>\n  `,i=({count:t,index:n})=>`\n  <div class="row mb-3">\n    <div class="col-lg-1 text-center choice-letter-holder">\n        ${n}\n    </div>\n    <textarea name="choice${t}"  rows="1" class="form-control col-lg-9 mr-2"></textarea>\n    <div class="col-lg-1 choice-div">\n        <button title="add Choice" class="btn btn-primary btn-sm round-btn rmv-choice-btn" type="button" name="button"><i class="fas fa-times"></i></button>\n    </div>\n  </div>`,o=({letter:t})=>`<option value="">${t}</option>`;$("#addExam form").submitform({url:"/addExam",callback:function(t){showNotification("top","right","Exam Added","success"),window.location.reload()}}),$(document).on("click","#add",function(){$("#question").append([{count:t}].map(a).join(""))}),$(document).on("click",".addChoice",function(a){a.preventDefault();var c=$(this).data("current");$(this).parents(".question-main").find(".insert-choice").append([{count:t,index:e[c]}].map(i).join("")),n=c+1,$(this).data("current",n),$(this).parents(".question-main").find(".answers").append([{letter:e[c]}].map(o).join(""))}),$(document).on("click",".rmv-choice-btn",function(t){t.preventDefault();var n=$(this).parents(".question-main").find(".insert-choice"),a=$(this).parents(".question-main").find(".addChoice").data("current")-1;$(this).parents(".question-main").find(".addChoice").data("current",a),$(this).parent().parent().remove(),$(n.find(".choice-letter-holder")).each(function(t){$(this).html(e[t])})}),$(document).on("click",".rmv-q-btn",function(n){n.preventDefault(),t-=1,$(this).parents(".question-main").remove()}),$(document).on("click",".rmv-btn",function(t){t.preventDefault();var n=$(this).data("id");swal({title:"Are you sure you want to Remove this Exam?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, Remove it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(t){t?$.simpletSubmit({url:"/removeExam",data:{id:n},callback:function(t){swal("Deleted!","Exam Removed.","success"),examTable()}}):swal("Cancelled","Nothin was Removed","error")})}),$("#updExam form").submitform({url:"/updateExam",callback:function(t){showNotification("top","right","Exam Updated","success");var n=location.href.replace("editThisExam/19","examcreator");location.href=n}})});
